<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="initial-scale=1.0"/>
        <title>Digilib jQuery: fullscreen+mpiwg+annotations</title>

        <style type="text/css">
            body {
                 background: silver;
            }
        </style>

        <script type="text/javascript" src="json2.js"></script>
        <script type="text/javascript" src="jquery.js"></script>
        <script type="text/javascript" src="jquery.cookie.js"></script>
        <script type="text/javascript" src="jquery.digilib.js"></script>
        <link rel="stylesheet" type="text/css" href="jquery.digilib.css" />
        <script type="text/javascript" src="jquery.digilib.geometry.js"></script>
        <script type="text/javascript" src="jquery.digilib.arrows.js"></script>
        <script type="text/javascript" src="jquery.range.js"></script>
        <link rel="stylesheet" type="text/css" href="jquery.range.css" />
        <script type="text/javascript" src="jquery.digilib.buttons.js"></script>
        <script type="text/javascript" src="jquery.digilib.dialogs.js"></script>
        <script type="text/javascript" src="jquery.digilib.sliders.js"></script>
        <script type="text/javascript" src="jquery.digilib.birdseye.js"></script>
        <script type="text/javascript" src="jquery.digilib.marks.js"></script>
        <script type="text/javascript" src="jquery.digilib.regions.js"></script>
        <script type="text/javascript" src="showdown.js"></script>
        <script type="text/javascript" src="annotator-dl.js"></script>
        <link rel="stylesheet" type="text/css" href="annotator.min.css" />
        <script type="text/javascript" src="jquery.digilib.annotator.js"></script>

        <script type="text/javascript">
            $(document).ready(function(){
                var opts = {
                    interactionMode : 'fullscreen',
                    showRegionNumbers : true,
                    // URL of annotation server
                    'annotationServerUrl' : 'http://tuxserve03.mpiwg-berlin.mpg.de/AnnotationManager/annotator',
                    // are annotations read-only?
                    'annotationsReadOnly' : false,
                    // URL of authentication token server
                    'annotationTokenUrl' : 'http://libcoll.mpiwg-berlin.mpg.de/libviewa/template/token/getLoginToken',
                    // URL of safe authentication token server
                    'annotationSafeTokenUrl' : 'https://libcoll.mpiwg-berlin.mpg.de/libviewa/template/token/getLoginToken',
                    // function that returns a normalized URI for the annotated image
                    'annotationPageUri' : function (data) {
                    	var fn = data.settings.fn;
                    	return 'http://echo.mpiwg-berlin.mpg.de/documents'+(fn.charAt(0)==='/'?'':'/')+fn+'?pn='+data.settings.pn;
                    },
                    // list of Annotator plugins
                    'annotatorPlugins' : ['Auth', 'Permissions', 'Markdown']
                };
                var $div = $('div#digilib');
                $div.digilib(opts);
            });

        </script>
    </head>

    <body>
        <div id="digilib">
            <p>digilib doesn't work! Please switch on Javascript or notify the server administrator!</p>
            <img src="http://digilib.sourceforge.net/images/digilib-logo-big.png" />
        </div>
    </body>
</html>

